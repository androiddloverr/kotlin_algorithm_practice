/*
üìé https://www.acmicpc.net/problem/10799 - Ïá†ÎßâÎåÄÍ∏∞
üìå Ïä§ÌÉùÏóê Ïù∏Îç±Ïä§Î•º 1Î∂ÄÌÑ∞ 1Ïî© Ï¶ùÍ∞ÄÏãúÏºúÍ∞ÄÎ©∞ ÎÑ£Îã§Í∞Ä )Î•º ÎßåÎÇ¨ÏùÑ Îïå ÌòÑÏû¨ Ïù∏Îç±Ïä§Í∞Ä Ïä§ÌÉù topÏóê ÏûàÎäî Ïù∏Îç±Ïä§Îûë 1Ï∞®Ïù¥ ÎÇòÎ©¥ Î†àÏù¥Ï†ÄÎùºÎäî Í≤É
üìå Î†àÏù¥Ï†Ä ÎßåÎÇ¨ÏùÑ Îïå Î†àÏù¥Ï†ÄÎ•º Ïù¥Î£®Îäî ( Ïù∏Îç±Ïä§Î•º pop ÌïòÍ≥† ÎÇú ÌõÑÏóê Ïä§ÌÉùÏóê ÎÇ®ÏïÑÏûàÎäî Îç∞Ïù¥ÌÑ∞ ÏàòÍ∞Ä ÎßåÎÇú Î†àÏù¥Ï†ÄÏóê ÏùòÌï¥ ÏûòÎ¶¨Îäî ÎßâÎåÄ ÏàòÏù¥Îã§
üìå ÎßåÏïΩ Ïä§ÌÉù topÏóê ÏûàÎäî Ïù∏Îç±Ïä§Îûë ÌòÑÏû¨ Ïù∏Îç±Ïä§Îûë 1Î≥¥Îã§ ÌÅ∞ Ï∞®Ïù¥Í∞Ä ÎÇúÎã§Î©¥ Í∑∏Í±¥ Ïñ¥Îñ§ ÎßâÎåÄ ÌïòÎÇòÏùò ÎÅùÏù¥ÎùºÎäî Í≤ÉÏù¥Îã§.
üìå Ïù¥Ìï¥Í∞Ä ÏïàÎêúÎã§Î©¥ Ï∞∏Í≥†ÌïòÍ∏∞ --> https://hsp1116.tistory.com/29
 */

fun main() {
    var stack = arrayListOf<Int>()
    var index = 1
    var total = 0
    readLine()!!.forEach {
        if(it == '(') {
            stack.add(index)
            index++
        }else{
            if(stack[stack.size-1] == index-1){
                // tag Ïù∏ Í≤ΩÏö∞
                stack.removeAt(stack.size-1)
                total += stack.size
            }else{
                stack.removeAt(stack.size-1)
                total += 1
            }
            index++
        }
    }
    print(total)
}